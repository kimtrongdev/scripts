chrome.runtime.onMessage.addListener(function(a){"startAudio"==a.data&&guruContent.createAudio()});class Content{constructor(){this.initStorage(),this.initListeners(),this.clearBtn=null,this.isBtn=null}initStorage(){chrome.storage.local.get(["floatbtn"],b=>{this.isBtn=b.floatbtn,this.isBtn&&this.createBtn()}),chrome.storage.local.get(["shortCuts"],b=>{this.isShortCuts=b.shortCuts,this.isShortCuts})}checkBtnInserting(){this.isBtn?this.createBtn():this.deleteBtn()}createBtn(){const b=document.createElement("img");b.className="inserted-btn mtz",b.src=chrome.runtime.getURL("img/icon_main.svg"),b.alt="Clear Button",b.addEventListener("click",this.handleClearBtn.bind(this)),this.clearBtn=b,document.body.appendChild(b)}handleClearBtn(b){b.target.style.transform="scale(0.5)",setTimeout(()=>{b.target.style.transform="scale(1)"},400),chrome.runtime.sendMessage({action:"clearBtn"})}initListeners(){chrome.storage.onChanged.addListener(b=>{b.hasOwnProperty("floatbtn")&&(this.isBtn=b.floatbtn.newValue,this.checkBtnInserting())})}deleteBtn(){this.clearBtn.remove(),this.clearBtn=null}createAudio(){const b=chrome.runtime.getURL("audios/accomplished.mp3");let a=new Audio(b);a.id="audio",a.autoplay=!0,document.body.appendChild(a)}}const guruContent=new Content;